<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ŸÑÿ≠ÿ∏ÿ© | Lahza</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script> <!-- ÿ•ÿ∂ÿßŸÅÿ© SweetAlert2 -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Baloo+Bhaijaan+2:wght@400..800&family=Beiruti:wght@200..900&family=Dosis:wght@200..800&family=Zain:ital,wght@0,200;0,300;0,400;0,700;0,800;0,900;1,300;1,400&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "Baloo Bhaijaan 2", sans-serif;
        }
        *::selection{
            background-color: #2b3357;
            color: blanchedalmond;
        }
        body {
            background: linear-gradient(to right, #f8f9fa, #e3f2fd);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 20px;
            text-align: center;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            max-width: 400px;
            width: 100%;
            transition: 0.3s;
        }
        h1 {
            font-size: 24px;
            color: #29b64d;
            margin-bottom: 20px;
        }
        input {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 18px;
            text-align: center;
            transition: 0.3s;
        }
        input:focus {
            border-color: #007bff;
            outline: none;
        }
        .btn {
            width: 100%;
            padding: 12px;
            font-size: 18px;
            cursor: pointer;
            border: none;
            border-radius: 8px;
            background-color: #007bff;
            color: white;
            transition: 0.3s;
            margin-top: 10px;
        }
        .btn:hover {
            background-color: #0056b3;
        }
        .card-container {
            display: none;
            flex-direction: column;
            align-items: center;
            margin-top: 20px;
        }
        .card {
            width: 350px;
            height: 600px;
            background: url("") no-repeat center/cover;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
            color: #D5B895;
            color: #e8a87c;
            text-shadow: 1px 1px 5px rgba(255, 255, 255, 0.5);
        }
        .name {
            font-size: 16px;
            font-weight: bold;
            margin-top: 65%;
        }
        .buttons {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }
        .download-btn {
            background-color: #28a745;
        }
        .download-btn:hover {
            background-color: #218838;
        }
        .edit-btn {
            background-color: #dc3545;
        }
        .edit-btn:hover {
            background-color: #b52b3a;
        }

        .alert-danger {
            color: #155724;
            background-color: #d4edda;
            border-color: #c3e6cb;
        }

        .alert {
            position: relative;
            padding: .75rem 1.25rem;
            margin-bottom: 4.1rem;
            border: 1px solid transparent;
            border-radius: 0.5rem;
        }

        #footer-text {
            color: #155724;
            background-color: #d4edda;
            border-color: #c3e6cb;
            position: relative;
            padding: .75rem 1.25rem;
            margin-bottom: 4.1rem;
            border: 1px solid transparent;
            border-radius: 0.5rem;
            margin-top: 60px;
   
        
        }

        .lang-switch {
        position: absolute;
        top: 15px;
        right: 15px;
        padding: 8px 15px;
        border: none;
        background-color: #f8f9fa;
        cursor: pointer;
        font-size: 14px;
        border-radius: 5px;
        transition: 0.3s;
    }
    .lang-switch:hover {
        background-color: #ddd;
    }
    .eid-message {
    /* font-size: 24px; */
    font-weight: bold;

    color: #f5e1c8;
    text-shadow: 1px 1px 5px rgba(255, 255, 255, 0.5);
    position: relative;
    top: 26%;
    left: 45%;
    transform: translate(-50%, -50%);
    z-index: 2;
    width: 90%;

}


    </style>
</head>
<body>
    <div class="alert alert-danger" role="alert" id="alert-message">
        <!-- Message will be set dynamically based on language -->
    </div>

    <!-- onclick="toggleLanguage()" -->
     <a href="/503.html">

         <button class="lang-switch" id="lang-switch-button">English</button>
     </a>

    <div class="container" id="form-container">
        <h1 id="title"></h1>
        <input type="text" id="username" placeholder="ÿßŸÉÿ™ÿ® ÿßÿ≥ŸÖŸÉ" oninput="validateInput()" autocomplete="off" />
        <button class="btn" onclick="generateCard()" id="submit-btn"> ü§çÿ™ŸÄŸÄŸÄŸÄŸÄŸÄŸÄŸÖ</button>
    </div>
    <div class="card-container" id="card-container">
        <div id="card" class="card">
            <p class="eid-message" id="eid-message"></p>
            <p class="name" id="card-name"></p>
        </div>
        <div class="buttons">
            <button class="btn download-btn" onclick="downloadCard()" id="download-btn">ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ®ÿ∑ÿßŸÇÿ©</button>
            <button class="btn edit-btn" onclick="editCard()" id="edit-btn">ÿ™ÿπÿØŸäŸÑ ÿßŸÑÿ®ÿ∑ÿßŸÇÿ©</button>
        </div>
    </div>

    <script>
        let lang = localStorage.getItem("selectedLang") || (navigator.language.startsWith("ar") ? "ar" : "en");

        const messages = {
            ar: {
                alertMessage: '. ÿ≠ŸäÿßŸÉŸÖ ÿßŸÑŸÑŸá , ŸÖŸàŸÇÿπ ŸÑÿ≠ÿ∏Ÿá ÿ≠ÿßŸÑŸäŸãÿß ŸÅŸä ŸÜÿ≥ÿÆÿ™Ÿá ÿßŸÑÿ™ÿ¨ÿ±Ÿäÿ®Ÿäÿ© ŸàŸäÿ≠ÿ™ŸàŸä ÿπŸÑŸâ ŸÇÿßŸÑÿ® Ÿàÿßÿ≠ÿØ ŸÅŸÇÿ∑ÿå Ÿàÿ®ÿ•ÿ∞ŸÜ ÿßŸÑŸÑŸá ÿ≥Ÿäÿ™ŸÖ ÿ•ÿ∂ÿßŸÅÿ© ÿßŸÑŸÖÿ≤ŸäÿØ ŸÖŸÜ ÿßŸÑŸÇŸàÿßŸÑÿ® ŸÇÿ±Ÿäÿ®Ÿãÿß. ŸÜÿ™ŸÖŸÜŸâ ŸÑŸÉŸÖ ÿπŸäÿØŸãÿß ÿ≥ÿπŸäÿØŸãÿß     ',
                title: ' (: ÿßÿ®ÿØÿ£ ÿßŸÑÿ¢ŸÜ Ÿàÿßÿ≠ÿµŸÑ ÿπŸÑŸâ ÿ®ÿ∑ÿßŸÇÿ™ŸÉ ',
                placeholder: 'ÿßŸÉÿ™ÿ® ÿßÿ≥ŸÖŸÉ',
                submitButton: 'ü§ç ÿ™ŸÄŸÄŸÄŸÄŸÄŸÄŸÄŸÖ ',
                downloadButton: 'ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ®ÿ∑ÿßŸÇÿ©',
                editButton: 'ÿ™ÿπŸÄŸÄŸÄŸÄÿØŸäŸÑ ÿßŸÑÿ®ÿ∑ÿßŸÇÿ©',
                warningTitle: 'ÿ™ŸÜÿ®ŸäŸá',
                warningText: 'Ÿäÿ±ÿ¨Ÿâ ÿ•ÿØÿÆÿßŸÑ ÿßŸÑÿ≠ÿ±ŸàŸÅ ÿßŸÑÿπÿ±ÿ®Ÿäÿ© ŸÅŸÇÿ∑!',
                successDownloadTitle: 'ÿ™ŸÖ ÿßŸÑÿ™ÿ≠ŸÖŸäŸÑ',
                successDownloadText: 'ÿ¥ŸÉÿ±ÿß ŸÑŸÉ ÿ™ŸÖ ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ®ÿ∑ÿßŸÇÿ© ÿ®ŸÜÿ¨ÿßÿ≠ ŸÜÿ™ŸÖŸÜŸâ ŸÑŸÉ ÿπŸäÿØ ÿ≥ÿπŸäÿØ ',
                errorDownloadTitle: 'ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£',
                errorDownloadText: 'ŸÑŸÖ Ÿäÿ™ŸÖ ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ®ÿ∑ÿßŸÇÿ©. ÿ≥ÿ®ÿ® ÿßŸÑÿÆÿ∑ÿ£: ',
                langButton: "English",
                emptyNameWarning: "Ÿäÿ±ÿ¨Ÿâ ÿ•ÿØÿÆÿßŸÑ ÿßŸÑÿßÿ≥ŸÖ",
                // footerText: " ‚ù§ ÿ™ŸÖ ÿ™ÿ∑ŸàŸäÿ±Ÿá ÿ®ÿ≠ÿ® ŸÖŸÜ ŸÇÿ®ŸÑ ÿπÿ®ÿØÿßŸÑÿπÿ≤Ÿäÿ≤ "
                footerText: " ‚ù§ ÿ™ŸÖ ÿ™ÿ∑ŸàŸäÿ±Ÿá ÿ®ÿ¥ÿ∫ŸÅ ŸÖŸÜ ŸÇÿ®ŸÑ ÿπÿ®ÿØÿßŸÑÿπÿ≤Ÿäÿ≤ " ,
                eidMessage: "ÿ£ŸéÿØŸéÿßŸÖŸé ÿßŸÑŸÑŸëŸéŸáŸè ÿπŸéŸÑŸéŸäŸíŸÉŸèŸÖŸí ÿ£ŸéÿπŸíŸäŸéÿßÿØŸéŸÉŸèŸÖŸí ŸàŸéÿ¨ŸéŸÖŸéÿπŸéŸÜŸéÿß ÿπŸéŸÑŸéŸâ ÿ∑ŸéÿßÿπŸéÿ™ŸêŸáŸê ŸÅŸêŸä ŸÉŸèŸÑŸëŸê ÿÆŸéŸäŸíÿ±Ÿçÿå ŸàŸéÿ™ŸéŸÇŸéÿ®ŸëŸéŸÑŸé ŸÖŸêŸÜŸëŸéÿß ŸàŸéŸÖŸêŸÜŸíŸÉŸèŸÖŸí ÿµŸéÿßŸÑŸêÿ≠Ÿé ÿßŸÑŸíÿ£ŸéÿπŸíŸÖŸéÿßŸÑŸêÿå ŸàŸéÿ¨ŸéÿπŸéŸÑŸé ŸáŸéÿ∞Ÿéÿß ÿßŸÑÿπŸêŸäÿØŸé ŸÅŸéÿ±Ÿéÿ≠Ÿãÿß ŸÑŸéŸÉŸèŸÖŸí ŸàŸéŸÅŸêŸä ŸÇŸèÿ±Ÿèÿ®Ÿéÿ™ŸêŸáŸê ÿ≥ŸéÿπŸéÿßÿØŸéÿ©Ÿã ŸàŸéÿ±Ÿéÿ≠ŸíŸÖŸéÿ©Ÿã."  // ÿßŸÑŸÜÿµ ÿßŸÑŸÖÿ∑ŸÑŸàÿ® ŸÑŸÑÿ∫ÿ© ÿßŸÑÿπÿ±ÿ®Ÿäÿ©
            },
            en: {
                alertMessage: 'WelWelcome! Lahza website is currently in a beta version and includes only one template. more templates will be available soon. Wishing you a happy Eid',
                title: ' Start now and get your card (:',
                placeholder: 'Enter your name',
                submitButton: 'Submit',
                downloadButton: 'Download Card',
                editButton: 'Edit Card',
                warningTitle: 'Warning',
                warningText: 'Please enter only English characters!',
                successDownloadTitle: 'Downloaded',
                // successDownloadText: 'Card downloaded successfully!',
                successDownloadText: 'Thank you, The card has been successfully downloaded. We wish you a happy Eid',
                errorDownloadTitle: 'Error',
                errorDownloadText: 'Failed to download the card. Error: ',
                langButton: "ÿßŸÑÿπÿ±ÿ®Ÿäÿ©",
                emptyNameWarning: "Please enter your name",
                // footerText: "programmed with passion by Abdulaziz ‚ù§ "
                footerText: "Developed  with passion by Abdulaziz ‚ù§ " ,
                eidMessage: "May Allah bless your Eid, gather us in His obedience, accept our good deeds, and make this Eid a time of joy, closeness to Him, and mercy."  // ÿßŸÑŸÜÿµ ÿßŸÑŸÖÿ∑ŸÑŸàÿ® ŸÑŸÑÿ∫ÿ© ÿßŸÑÿ•ŸÜÿ¨ŸÑŸäÿ≤Ÿäÿ©


            }
        };

        window.onload = function() {
    setLanguage(); // ÿ∂ÿ®ÿ∑ ÿßŸÑŸÑÿ∫ÿ© ÿπŸÜÿØ ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿµŸÅÿ≠ÿ©
    setupLanguageSwitcher(); // ÿ™ŸÅÿπŸäŸÑ ÿ≤ÿ± ÿ™ÿ∫ŸäŸäÿ± ÿßŸÑŸÑÿ∫ÿ©
};

function setLanguage() {
    // ÿßŸÑÿ≠ÿµŸàŸÑ ÿπŸÑŸâ ÿßŸÑŸÑÿ∫ÿ© ÿßŸÑŸÖÿÆÿ™ÿßÿ±ÿ© ŸÖŸÜ localStorage
    let lang = localStorage.getItem("selectedLang") || "ar"; // ÿ¨ÿπŸÑ "ar" ÿßŸÑŸÑÿ∫ÿ© ÿßŸÑÿßŸÅÿ™ÿ±ÿßÿ∂Ÿäÿ© ÿØÿßÿ¶ŸÖŸãÿß

    // ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑŸÜÿµŸàÿµ ÿ®ŸÜÿßÿ°Ÿã ÿπŸÑŸâ ÿßŸÑŸÑÿ∫ÿ©
    updatePageText(lang);
}

function updatePageText(lang) {
    // ÿ™ÿπŸäŸäŸÜ ÿßŸÑŸÜÿµŸàÿµ ÿ®ŸÜÿßÿ°Ÿã ÿπŸÑŸâ ÿßŸÑŸÑÿ∫ÿ© ÿßŸÑŸÖÿÆÿ™ÿßÿ±ÿ©
    document.getElementById('alert-message').textContent = messages[lang].alertMessage;
    document.getElementById('title').textContent = messages[lang].title;
    document.getElementById('username').placeholder = messages[lang].placeholder;
    document.getElementById('submit-btn').textContent = messages[lang].submitButton;
    document.getElementById('download-btn').textContent = messages[lang].downloadButton;
    document.getElementById('edit-btn').textContent = messages[lang].editButton;
    document.querySelector('.lang-switch').textContent = messages[lang].langButton;
    document.getElementById('footer-text').textContent = messages[lang].footerText;
    
    // ÿ™ÿ∫ŸäŸäÿ± ÿßŸÑÿµŸàÿ±ÿ© ÿ®ŸÜÿßÿ°Ÿã ÿπŸÑŸâ ÿßŸÑŸÑÿ∫ÿ©
    let cardElement = document.getElementById("card");
    if (lang === "en") {
        cardElement.style.background = "url('Eid EN.svg') no-repeat center/cover"; 
    } else {
        cardElement.style.background = "url('Eid AR.svg') no-repeat center/cover"; 
    }
    
    document.getElementById('eid-message').textContent = messages[lang].eidMessage;

// ÿ™ÿ∫ŸäŸäÿ± ŸÑŸàŸÜ ÿßŸÑŸÜÿµ ÿ®ŸÜÿßÿ°Ÿã ÿπŸÑŸâ ÿßŸÑŸÑÿ∫ÿ©
if (lang === "ar") {
    document.getElementById('eid-message').style.color = "#f5e1c8"; // ŸÑŸàŸÜ ÿßŸÑŸÜÿµ ŸÑŸÑÿπÿ±ÿ®Ÿäÿ©
} else {
    document.getElementById('eid-message').style.color = "#bf643a"; // ŸÑŸàŸÜ ÿßŸÑŸÜÿµ ŸÑŸÑÿ•ŸÜÿ¨ŸÑŸäÿ≤Ÿäÿ©
}


}






function toggleLanguage() {
    lang = lang === "ar" ? "en" : "ar"; // ÿßŸÑÿ™ÿ®ÿØŸäŸÑ ÿ®ŸäŸÜ ÿßŸÑŸÑÿ∫ÿ© ÿßŸÑÿπÿ±ÿ®Ÿäÿ© ŸàÿßŸÑÿ•ŸÜÿ¨ŸÑŸäÿ≤Ÿäÿ©
    localStorage.setItem("selectedLang", lang);
    setLanguage(); // ÿßÿ≥ÿ™ÿØÿπÿßÿ° ÿßŸÑÿØÿßŸÑÿ© ŸÑÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑŸÜÿµŸàÿµ ÿ®ÿπÿØ ÿßŸÑÿ™ÿ®ÿØŸäŸÑ
}


        const selectedLang = lang.startsWith('ar') ? 'ar' : 'en';

        // Set dynamic text content based on language
        document.getElementById('alert-message').textContent = messages[selectedLang].alertMessage;
        document.getElementById('title').textContent = messages[selectedLang].title;
        document.getElementById('username').placeholder = messages[selectedLang].placeholder;
        document.getElementById('submit-btn').textContent = messages[selectedLang].submitButton;
        document.getElementById('download-btn').textContent = messages[selectedLang].downloadButton;
        document.getElementById('edit-btn').textContent = messages[selectedLang].editButton;

        function validateInput() {
    let input = document.getElementById("username").value;
    let arabicRegex = /^[\u0600-\u06FF\s]+$/; // Ÿäÿ≥ŸÖÿ≠ ŸÅŸÇÿ∑ ÿ®ÿßŸÑÿ£ÿ≠ÿ±ŸÅ ÿßŸÑÿπÿ±ÿ®Ÿäÿ©
    let englishRegex = /^[A-Za-z\s]+$/; // Ÿäÿ≥ŸÖÿ≠ ŸÅŸÇÿ∑ ÿ®ÿßŸÑÿ£ÿ≠ÿ±ŸÅ ÿßŸÑÿ•ŸÜÿ¨ŸÑŸäÿ≤Ÿäÿ©

    if (lang === "ar" && !arabicRegex.test(input)) {
        document.getElementById("username").value = input.replace(/[^ \u0600-\u06FF]/g, '');
        Swal.fire({
            icon: 'warning',
            title: messages[lang].warningTitle,
            text: messages[lang].warningText
        });
    } else if (lang === "en" && !englishRegex.test(input)) {
        document.getElementById("username").value = input.replace(/[^A-Za-z\s]/g, '');
        Swal.fire({
            icon: 'warning',
            title: messages[lang].warningTitle,
            text: messages[lang].warningText
        });
    }
}


        function generateCard() {
            let name = document.getElementById("username").value.trim();
            if (name === "") {
                Swal.fire({
                    icon: 'warning',
                    title: messages[selectedLang].warningTitle,
                    text: messages[lang].emptyNameWarning
                });
                return;
            }
            document.querySelector('.alert-danger').style.display = "none";

            document.getElementById("card-name").textContent = name;
            document.getElementById("form-container").style.display = "none";
            document.getElementById("card-container").style.display = "flex";
        }

        function downloadCard() {
            html2canvas(document.getElementById("card"), {
                width: 350,
                height: 600,
            }).then((canvas) => {
                let link = document.createElement("a");
                link.href = canvas.toDataURL("image/png");
                link.download = "ÿ®ÿ∑ÿßŸÇÿ© ÿßŸÑÿπŸäÿØ.png";
                link.click();

                Swal.fire({
                    icon: 'success',
                    title: messages[lang].successDownloadTitle,
                    text: messages[lang].successDownloadText
                });

            }).catch((error) => {
                Swal.fire({
                    icon: 'error',
                    title: messages[lang].errorDownloadTitle,
                    text: messages[lang].errorDownloadText + error.message
                });
            });
        }

        function editCard() {
            document.getElementById("form-container").style.display = "block";
            document.getElementById("card-container").style.display = "none";
            document.querySelector('.alert-danger').style.display = "block";
        }
    </script>

    <!-- <footer>
        <div class="alert alert-danger" id="fome" role="alert">
            ÿ®ÿ±ŸÖÿ¨ÿ© Ÿàÿ™ÿ∑ŸàŸäÿ± ÿßÿ≠ŸÖÿØ
        </div>
    </footer> -->
    <footer>
        <div   id="footer-text" class="footer-content">
            <!-- ÿ≥Ÿäÿ™ŸÖ ÿ™ÿ∫ŸäŸäÿ± Ÿáÿ∞ÿß ÿßŸÑŸÜÿµ ÿ®ŸÜÿßÿ°Ÿã ÿπŸÑŸâ ÿßŸÑŸÑÿ∫ÿ© -->
        </div>
    </footer>
    
</body>
</html>
